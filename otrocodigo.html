<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
   
    <script>
        async function verificar() {
  const codigo = document.getElementById("codigo").value;
  const url = "https://script.google.com/macros/s/AKfycbyqajzFmEYgqWS5NJFnAmASM08JG-QFGzenysdjvLxEDfuWoW8ita3Nat6fjfom0zb3/exec?codigo=" + encodeURIComponent(codigo);

  const resultado = document.getElementById("resultado");
  const boton = document.getElementById("verificarBtn");

  // Desactivar bot√≥n y mostrar mensaje
  boton.disabled = true;
  resultado.innerHTML = "<p>üîÑ Procesando...</p>";

  try {
    const res = await fetch(url);
    const data = await res.json();

    if (data.valido) {
      resultado.innerHTML = `
        <p><strong>‚úÖ Nombre:</strong> ${data.nombre}</p>
        <p><strong>Curso:</strong> ${data.curso}</p>
        <p><strong>Fecha:</strong> ${data.fecha}</p>
      `;
    } else {
      resultado.innerHTML = "<p>‚ùå C√≥digo inv√°lido o no encontrado.</p>";
    }
  } catch (error) {
    resultado.innerHTML = "<p>‚ö†Ô∏è Error al conectar con el servidor.</p>";
    console.error("Error:", error);
  } finally {
    boton.disabled = false;
  }
}
    </script>
</body>
</html>